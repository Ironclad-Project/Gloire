name=ironclad
from_source=ironclad
revision=1
imagedeps="texinfo binutils"
hostdeps="gcc binutils autoconf automake libtool pkg-config gprbuild"

configure() {
    GPRBUILD="gprbuild --target=${OS_TRIPLET}" \
    "${source_dir}"/configure --prefix="${prefix}" --target=x86_64-multiboot2-elf
}

build() {
    make all -j${parallelism}
}

install() {
    DESTDIR=${dest_dir} make install
}
