#! /bin/sh

name=libexpat
repology_id=expat
version=2.7.3
revision=1
tarball_url="https://github.com/libexpat/libexpat/archive/refs/tags/R_2_7_3.tar.gz"
tarball_blake2b="bdf97e470b3940edc01c58f9859e31a85293a5e28c9e0544e5aab4ea97cb01fee521831c5e0ad282b9e6ed62073398fe728c85cd5b989896947ffd50486c0700"
hostdeps="gcc pkg-config"
deps="core-libs"

configure() {
        cmake_source_dir="${source_dir}/expat" \
    cmake_configure
}

build() {
    cmake --build . -j${parallelism}
}

package() {
    DESTDIR="${dest_dir}" cmake --install .

    post_package_strip
}
