#! /bin/sh

name=limine
version=10.4.0
revision=1
tarball_url="https://codeberg.org/Limine/Limine/releases/download/v${version}/limine-${version}.tar.gz"
tarball_blake2b="8df2361683ef221cb4b8d2bbb73c6c44176f4dd885335a0bb90c390874de13b8a2f1d879a48890457bcf62c506ca1a5abe7a7c4349f1ac84260ce32e5c426a17"
imagedeps="mtools nasm llvm lld clang"
hostdeps="gcc pkg-config"
deps="core-libs"

prepare() {
    autotools_recursive_regen
}

configure() {
    autotools_configure \
        --enable-all
}

build() {
    make -j${parallelism}
}

package() {
    DESTDIR="${dest_dir}" make install

    post_package_strip
}
